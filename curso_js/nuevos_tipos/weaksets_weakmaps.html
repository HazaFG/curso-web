<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nuevos tipos de datos en Javascript</title>
</head>
<body>
    <h1>WEAKSETS Y WEAKMAPS EN Javascript</h1>

    <script>
        //CLASE NUMERO 52


        //RECUERDA QUE ESTOS ALMACENAN UNA REFERENCIA

        //EN ESTOS NO SON ITERABLES, NO PODEMOS VERIFICAR SU TAMAÃ‘O, SON LIMITADOS

        //ESTO NO SE PUEDE HACER COMO SON LOS SET
        // const ws = new WeakSet(1,2,3,4,5)

        const ws = new WeakSet()

        let valor1 = {"Valor1": 1}
        let valor2 = {"Valor2": 1}
        let valor3 = {"Valor3": 1}

        ws.add(valor1)
        ws.add(valor2)

        console.log(ws.has(valor1))
        console.log(ws.has(valor3))

        ws.delete(valor2)
        console.log(ws)

        ws.add(valor1)
        ws.add(valor2)
        ws.add(valor3)
        console.log(ws)

        // setInterval(() => {
        //     console.log(ws)
        // }, 1000);


        // setTimeout(() => {
        //     valor1 = null
        //     valor2 = null
        //     valor3 = null
        // }, 5000);


        //HORA DE VER LOS WEAKMAPS

        //ESTO NO SE PUEDE HACER
        // const wm = new WeakMap([
        //     ["Nombre", "Kenobi"],
        //     ["Edad", 7],
        //     ["Animal", "Perro"],
        //     ["Null", "Nulo"]
        // ])

        const wm = new WeakMap()
        let llave1 = {}
        let llave2 = {}
        let llave3 = {}

        wm.set(llave1, 1)
        wm.set(llave3, 3)
        wm.set(llave2, 2)
        console.log(wm)

        console.log(wm.has(llave1))
        console.log(wm.has(llave3))


        console.log(wm.get(llave1))
        console.log(wm.get(llave3))


        wm.set(llave1, 1)
        wm.set(llave3, 3)
        wm.set(llave2, 2)

        wm.delete(llave1)

        console.log("\n")

        console.log(wm)

        wm.set(llave1, 1)
        wm.set(llave3, 3)
        wm.set(llave2, 2)

        setInterval(() => {
            console.log(wm)
        }, 1000);

        setTimeout(() => {
            llave1 = null
            llave2 = null
            llave3 = null
        }, 5000);






    </script>
    
</body>
</html>